:root{--cold-base-100: #e8eef2;--cold-base-200: #d1dde5;--cold-base-300: #b8c9d6;--cold-base-400: #9fb5c7;--cold-base-500: #7a95ab;--cold-base-600: #5a7589;--cold-base-700: #3f5566;--cold-base-800: #2f4252;--cold-base-900: #2a3f4f;--paper-info-100: #f5f1e8;--paper-info-200: #ebe5d8;--paper-info-300: #e0d9c8;--paper-info-400: #d5cdb8;--paper-shadow: rgba(0, 0, 0, .08);--paper-shadow-heavy: rgba(0, 0, 0, .15);--gold-order-100: #d4af37;--gold-order-200: #b8941f;--gold-order-300: #9c7a0f;--gold-order-dark: #7a5f0a;--gold-order-dim: rgba(212, 175, 55, .3);--red-decision: #c41e3a;--red-risk: #d32f2f;--red-archive: #b71c1c;--red-seal: #8b0000;--text-primary: #1a1a1a;--text-secondary: #4a4a4a;--text-tertiary: #6a6a6a;--text-on-dark: #f5f1e8;--text-on-paper: #2a2a2a;--z-bg: 0;--z-mid: 10;--z-char: 20;--z-fx: 30;--z-ui: 40;--z-top: 50;--anim-instant: .1s;--anim-short: .15s;--anim-standard: .2s;--ease-out: cubic-bezier(.4, 0, .2, 1);--ease-in-out: cubic-bezier(.4, 0, .6, 1);--ease-sharp: cubic-bezier(.4, 0, 1, 1);--space-xs: 4px;--space-sm: 8px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--space-2xl: 48px;--font-family-base: "Noto Serif SC", "Source Han Serif SC", "思源宋体", serif;--font-family-title: "Noto Sans SC", "Source Han Sans SC", "思源黑体", sans-serif;--font-size-xs: 12px;--font-size-sm: 14px;--font-size-base: 16px;--font-size-lg: 18px;--font-size-xl: 20px;--font-size-2xl: 24px;--font-size-3xl: 32px;--line-height-tight: 1.4;--line-height-normal: 1.6;--line-height-relaxed: 1.8;--border-width-thin: 1px;--border-width-medium: 2px;--border-width-thick: 3px;--border-radius-none: 0;--border-radius-sm: 2px;--border-radius-md: 4px;--dialog-height: 200px;--dialog-padding: var(--space-lg);--dialog-name-height: 32px;--paper-texture: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="noise"><feTurbulence baseFrequency="0.9" numOctaves="4"/></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.03"/></svg>')}@media (prefers-color-scheme: dark){:root{--text-primary: #e8eef2;--text-secondary: #b8c9d6;--text-tertiary: #9fb5c7}}*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%;overflow:hidden}body{font-family:var(--font-family-base);font-size:var(--font-size-base);line-height:var(--line-height-normal);color:var(--text-primary);background-color:var(--cold-base-900)}#app{position:relative;width:100%;height:100%;overflow:hidden}.layer{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.layer>*{pointer-events:auto}.layer-bg{z-index:var(--z-bg)}.layer-mid{z-index:var(--z-mid)}.layer-char{z-index:var(--z-char)}.layer-fx{z-index:var(--z-fx)}.layer-ui{z-index:var(--z-ui);pointer-events:auto}.layer-top{z-index:var(--z-top)}.bg-container{width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;transition:opacity var(--anim-standard) var(--ease-out)}.bg-container.fade-out{opacity:0}.char-container{position:absolute;bottom:0;height:80%;display:flex;align-items:flex-end;transition:all var(--anim-standard) var(--ease-out)}.char-container.single{left:10%}.char-container.main-pov{left:20%;filter:brightness(1.1);z-index:calc(var(--z-char) + 1)}.char-container.secondary-pov{right:20%;filter:brightness(.8);opacity:.9}.char-image{max-height:100%;object-fit:contain;object-position:bottom}#dialog-box{position:absolute;bottom:0;left:0;right:0;height:var(--dialog-height);padding:var(--dialog-padding);background:linear-gradient(to top,var(--paper-info-100) 0%,var(--paper-info-200) 100%);border-top:var(--border-width-medium) solid var(--gold-order-200);box-shadow:0 -4px 12px var(--paper-shadow-heavy);background-image:var(--paper-texture);overflow:hidden}#action-bar{position:absolute;bottom:calc(var(--dialog-height) + var(--space-lg));left:50%;transform:translate(-50%);max-width:600px;width:90%}#pov-switcher{position:absolute;top:var(--space-lg);right:var(--space-lg)}#scene-navigator{position:absolute;top:var(--space-lg);left:var(--space-lg)}@media (max-width: 768px){:root{--dialog-height: 180px;--dialog-padding: var(--space-md)}.char-container{height:70%}#action-bar{width:95%}}@media (max-width: 480px){:root{--dialog-height: 160px;--dialog-padding: var(--space-sm);--font-size-base: 14px}.char-container{height:60%}}.safe-area{padding:var(--space-lg)}@media (max-width: 768px){.safe-area{padding:var(--space-md)}}@keyframes stamp-down{0%{transform:translateY(-10px) scale(1.1);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.stamp-effect{animation:stamp-down var(--anim-short) var(--ease-sharp)}@keyframes zhu-pi{0%{width:0;opacity:0}to{width:100%;opacity:1}}.zhu-pi-effect{animation:zhu-pi var(--anim-standard) var(--ease-out)}@keyframes seal-open{0%{clip-path:inset(0 0 0 0)}to{clip-path:inset(0 0 0 20%)}}.seal-open-effect{animation:seal-open var(--anim-standard) var(--ease-out)}@keyframes item-settle{0%{transform:translateY(-5px);opacity:0}to{transform:translateY(0);opacity:1}}.settle-effect{animation:item-settle var(--anim-short) var(--ease-out)}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}.fade-in{animation:fade-in var(--anim-standard) var(--ease-out)}.fade-out{animation:fade-out var(--anim-standard) var(--ease-out)}@keyframes nameplate-slide{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}.nameplate-change{animation:nameplate-slide var(--anim-standard) var(--ease-out)}@keyframes seal-stamp{0%{transform:translateY(-20px) rotate(-5deg) scale(.9);opacity:0}60%{transform:translateY(2px) rotate(0) scale(1.05)}to{transform:translateY(0) rotate(0) scale(1);opacity:1}}.seal-stamp-effect{animation:seal-stamp var(--anim-standard) var(--ease-sharp)}@keyframes page-turn{0%{transform:rotateY(0)}50%{transform:rotateY(90deg);opacity:0}51%{transform:rotateY(-90deg);opacity:0}to{transform:rotateY(0);opacity:1}}.page-turn-effect{animation:page-turn var(--anim-standard) var(--ease-in-out);transform-style:preserve-3d}@keyframes corner-fold{0%,to{transform:translateY(0)}50%{transform:translateY(-3px)}}.continue-indicator{animation:corner-fold 1.5s ease-in-out infinite}@keyframes spotlight-on{0%{filter:brightness(.8)}to{filter:brightness(1.1)}}@keyframes spotlight-off{0%{filter:brightness(1.1)}to{filter:brightness(.8)}}.spotlight-on{animation:spotlight-on var(--anim-standard) var(--ease-out)}.spotlight-off{animation:spotlight-off var(--anim-standard) var(--ease-out)}.will-animate{will-change:transform,opacity}.gpu-accelerated{transform:translateZ(0);backface-visibility:hidden}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.dialog-box{display:flex;flex-direction:column;height:100%;position:relative}.dialog-nameplate{height:var(--dialog-name-height);padding:var(--space-xs) var(--space-md);background:linear-gradient(135deg,var(--gold-order-200),var(--gold-order-300));border:var(--border-width-thin) solid var(--gold-order-dark);border-radius:var(--border-radius-sm) var(--border-radius-sm) 0 0;display:flex;align-items:center;justify-content:space-between;box-shadow:inset 0 1px #fff3}.dialog-name{font-family:var(--font-family-title);font-size:var(--font-size-sm);font-weight:600;color:var(--cold-base-900);letter-spacing:.05em}.dialog-tag{font-size:var(--font-size-xs);color:var(--cold-base-700);padding:2px 6px;background:#ffffff4d;border-radius:var(--border-radius-sm)}.dialog-content{flex:1;padding:var(--space-md);background:var(--paper-info-100);background-image:var(--paper-texture);overflow-y:auto;overflow-x:hidden;color:var(--text-on-paper);line-height:var(--line-height-relaxed);scrollbar-width:thin;scrollbar-color:var(--gold-order-dim) transparent}.dialog-content::-webkit-scrollbar{width:6px}.dialog-content::-webkit-scrollbar-track{background:transparent}.dialog-content::-webkit-scrollbar-thumb{background:var(--gold-order-dim);border-radius:3px}.dialog-text{margin:0;white-space:pre-wrap;word-wrap:break-word}.dialog-continue{position:absolute;bottom:var(--space-sm);right:var(--space-sm);width:0;height:0;border-style:solid;border-width:0 0 16px 16px;border-color:transparent transparent var(--gold-order-200) transparent;opacity:.6}.dialog-box.mode-read .dialog-nameplate{background:linear-gradient(135deg,var(--gold-order-100),var(--gold-order-200))}.dialog-box.mode-trial{box-shadow:0 -6px 16px var(--paper-shadow-heavy)}.dialog-box.mode-trial .dialog-nameplate{background:linear-gradient(135deg,var(--gold-order-200),var(--gold-order-dark));border-width:var(--border-width-medium)}.dialog-box.mode-trial .dialog-content{background:var(--paper-info-200);box-shadow:inset 0 2px 4px var(--paper-shadow)}.dialog-box.mode-archive{border-top-width:var(--border-width-thick);border-top-color:var(--red-archive)}.dialog-box.mode-archive .dialog-nameplate{background:linear-gradient(135deg,var(--gold-order-dark),var(--cold-base-800));border-color:var(--red-archive)}.dialog-box.mode-archive .dialog-content{background:var(--paper-info-300);position:relative}.dialog-box.mode-archive .dialog-content:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:var(--red-archive)}.action-bar{display:flex;flex-direction:column;gap:var(--space-sm)}.action-item{padding:var(--space-md);background:var(--paper-info-100);background-image:var(--paper-texture);border:var(--border-width-thin) solid var(--gold-order-dim);border-left:var(--border-width-thick) solid var(--gold-order-200);cursor:pointer;transition:all var(--anim-instant) var(--ease-out);position:relative;overflow:hidden}.action-item:hover{background:var(--paper-info-200);border-left-color:var(--gold-order-100);transform:translate(4px)}.action-item:active{transform:translate(2px)}.action-verb{display:inline-block;font-family:var(--font-family-title);font-size:var(--font-size-xs);font-weight:600;color:var(--gold-order-dark);padding:2px 8px;background:var(--gold-order-dim);border:var(--border-width-thin) solid var(--gold-order-200);border-radius:var(--border-radius-sm);margin-right:var(--space-sm)}.action-text{color:var(--text-on-paper);line-height:var(--line-height-normal)}.action-item.selected{background:var(--paper-info-300);border-left-color:var(--red-decision);pointer-events:none}.action-item.selected:after{content:"✓";position:absolute;top:50%;right:var(--space-md);transform:translateY(-50%);font-size:var(--font-size-xl);color:var(--red-decision);font-weight:700}.action-item.disabled{opacity:.5;cursor:not-allowed;background:var(--cold-base-200)}.action-item.disabled:before{content:"";position:absolute;top:50%;left:0;right:0;height:2px;background:repeating-linear-gradient(90deg,var(--cold-base-600) 0px,var(--cold-base-600) 10px,transparent 10px,transparent 20px)}.pov-switcher{display:flex;gap:var(--space-sm);padding:var(--space-sm);background:#2a3f4fcc;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:var(--border-width-thin) solid var(--gold-order-dim);border-radius:var(--border-radius-md)}.pov-button{padding:var(--space-xs) var(--space-md);background:var(--cold-base-700);border:var(--border-width-thin) solid var(--gold-order-dim);color:var(--text-on-dark);font-family:var(--font-family-title);font-size:var(--font-size-sm);cursor:pointer;transition:all var(--anim-instant) var(--ease-out);border-radius:var(--border-radius-sm)}.pov-button:hover{background:var(--cold-base-600);border-color:var(--gold-order-200)}.pov-button.active{background:var(--gold-order-200);color:var(--cold-base-900);border-color:var(--gold-order-100);font-weight:600}.scene-navigator{display:flex;gap:var(--space-xs);padding:var(--space-sm);background:#2a3f4fcc;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:var(--border-width-thin) solid var(--gold-order-dim);border-radius:var(--border-radius-md)}.nav-button{width:32px;height:32px;background:var(--cold-base-700);border:var(--border-width-thin) solid var(--gold-order-dim);color:var(--text-on-dark);cursor:pointer;transition:all var(--anim-instant) var(--ease-out);border-radius:var(--border-radius-sm);display:flex;align-items:center;justify-content:center;font-size:var(--font-size-lg)}.nav-button:hover:not(:disabled){background:var(--cold-base-600);border-color:var(--gold-order-200)}.nav-button:disabled{opacity:.3;cursor:not-allowed}.scene-title{padding:0 var(--space-md);color:var(--text-on-dark);font-family:var(--font-family-title);font-size:var(--font-size-sm);display:flex;align-items:center}.status-badge{position:absolute;top:var(--space-sm);right:var(--space-sm);padding:var(--space-xs) var(--space-sm);background:var(--red-risk);color:#fff;font-family:var(--font-family-title);font-size:var(--font-size-xs);font-weight:600;border-radius:var(--border-radius-sm);box-shadow:0 2px 4px #0000004d}.status-badge.warning{background:var(--gold-order-200);color:var(--cold-base-900)}.status-badge.info{background:var(--cold-base-600);color:var(--text-on-dark)}body{font-family:var(--font-family-base);font-size:var(--font-size-base);line-height:var(--line-height-normal);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}h1,h2,h3,h4,h5,h6{font-family:var(--font-family-title);font-weight:600;line-height:var(--line-height-tight);margin:0;color:var(--text-primary)}h1{font-size:var(--font-size-3xl);letter-spacing:.02em}h2{font-size:var(--font-size-2xl);letter-spacing:.02em}h3{font-size:var(--font-size-xl);letter-spacing:.01em}h4{font-size:var(--font-size-lg)}h5{font-size:var(--font-size-base)}h6{font-size:var(--font-size-sm)}p{margin:0 0 var(--space-md) 0;line-height:var(--line-height-relaxed)}p:last-child{margin-bottom:0}strong,b{font-weight:700;color:var(--text-primary)}em,i{font-style:italic;color:var(--text-secondary)}del,s{text-decoration:line-through;opacity:.6}u{text-decoration:underline;text-decoration-color:var(--gold-order-200);text-underline-offset:2px}blockquote{margin:var(--space-md) 0;padding:var(--space-md);padding-left:var(--space-lg);border-left:var(--border-width-thick) solid var(--gold-order-200);background:var(--paper-info-200);font-style:italic;color:var(--text-secondary)}blockquote p:last-child{margin-bottom:0}code{font-family:Courier New,monospace;font-size:.9em;padding:2px 6px;background:var(--cold-base-200);border:var(--border-width-thin) solid var(--cold-base-300);border-radius:var(--border-radius-sm);color:var(--text-primary)}pre{margin:var(--space-md) 0;padding:var(--space-md);background:var(--cold-base-200);border:var(--border-width-thin) solid var(--cold-base-300);border-radius:var(--border-radius-md);overflow-x:auto}pre code{padding:0;background:none;border:none}ul,ol{margin:var(--space-md) 0;padding-left:var(--space-xl)}li{margin:var(--space-xs) 0;line-height:var(--line-height-normal)}ul{list-style-type:none}ul li:before{content:"•";color:var(--gold-order-200);font-weight:700;display:inline-block;width:1em;margin-left:-1em}a{color:var(--gold-order-200);text-decoration:none;transition:color var(--anim-instant) var(--ease-out)}a:hover{color:var(--gold-order-100);text-decoration:underline}a:active{color:var(--gold-order-300)}.term{color:var(--gold-order-dark);font-weight:600;cursor:help;border-bottom:1px dotted var(--gold-order-dim)}.highlight{background:linear-gradient(to bottom,transparent 0%,transparent 40%,rgba(196,30,58,.2) 40%,rgba(196,30,58,.2) 90%,transparent 90%);padding:0 2px;font-weight:600}.archive-id{font-family:Courier New,monospace;font-size:var(--font-size-sm);color:var(--cold-base-600);background:var(--cold-base-200);padding:2px 6px;border:var(--border-width-thin) solid var(--cold-base-300);border-radius:var(--border-radius-sm)}.character-name{font-family:var(--font-family-title);font-weight:600;color:var(--text-primary)}.location-name{font-style:italic;color:var(--text-secondary)}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-xs{font-size:var(--font-size-xs)}.text-sm{font-size:var(--font-size-sm)}.text-base{font-size:var(--font-size-base)}.text-lg{font-size:var(--font-size-lg)}.text-xl{font-size:var(--font-size-xl)}.text-primary{color:var(--text-primary)}.text-secondary{color:var(--text-secondary)}.text-tertiary{color:var(--text-tertiary)}.text-on-dark{color:var(--text-on-dark)}.text-on-paper{color:var(--text-on-paper)}@media (max-width: 768px){:root{--font-size-base: 15px;--font-size-lg: 17px;--font-size-xl: 19px;--font-size-2xl: 22px;--font-size-3xl: 28px}}@media (max-width: 480px){:root{--font-size-base: 14px;--font-size-lg: 16px;--font-size-xl: 18px;--font-size-2xl: 20px;--font-size-3xl: 24px}}::selection{background:var(--gold-order-dim);color:var(--text-primary)}::-moz-selection{background:var(--gold-order-dim);color:var(--text-primary)}.lang-zh{font-family:"Noto Serif SC","Source Han Serif SC",serif;word-break:break-all;line-break:strict}.lang-ko{font-family:"Noto Serif KR",Nanum Myeongjo,Malgun Gothic,serif;word-break:keep-all;line-break:strict;word-spacing:0;letter-spacing:-.02em}.lang-ja{font-family:"Noto Serif JP",Yu Mincho,Hiragino Mincho ProN,serif;word-break:break-all;line-break:strict}.lang-en{font-family:"Noto Serif",Georgia,Times New Roman,serif;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.lang-ar{font-family:Noto Naskh Arabic,Arial,sans-serif;direction:rtl;text-align:right;word-break:break-word}.lang-fr{font-family:"Noto Serif",Georgia,serif;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.lang-ru{font-family:"Noto Serif",Georgia,serif;word-break:break-word}.lang-es,.lang-de{font-family:"Noto Serif",Georgia,serif;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.dual-language-container{display:flex;flex-direction:column;gap:var(--space-md)}.dual-language-item{padding:var(--space-sm);border-left:var(--border-width-thick) solid var(--gold-order-200)}.dual-language-item.primary{border-color:var(--gold-order-200)}.dual-language-item.secondary{border-color:var(--cold-base-400);opacity:.8}.lang-ko .dialog-text{line-height:1.8}.lang-ko .action-text{letter-spacing:0}.lang-ko:before,.lang-ko:after{content:""}[dir=rtl]{direction:rtl}[dir=rtl] .dialog-box{text-align:right}[dir=rtl] .action-bar{flex-direction:row-reverse}@media (max-width: 768px){.lang-ko{font-size:15px;line-height:1.75}.dual-language-container{gap:var(--space-sm)}}
